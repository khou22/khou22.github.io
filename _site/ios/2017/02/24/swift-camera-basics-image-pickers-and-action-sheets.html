<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Swift Camera Basics: Image Pickers and Action Sheets</title>
    <meta name="description" content="">

    <!-- React -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>

    <!-- Jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    <!-- Tile Layout Library -->
    <link rel="stylesheet" type="text/css" href="/libraries/tile-layout-library/style.css">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://khou22.com/ios/2017/02/24/swift-camera-basics-image-pickers-and-action-sheets.html">
    <link rel="alternate" type="application/rss+xml" title="Kevin Hou" href="http://khou22.com/feed.xml" />

    <!-- Bootstrap -->
    <link href="/css/bootstrap-3.3.5-dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="/css/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>

    <!-- Pinterest -->
    <meta name="p:domain_verify" content="ba077b9ffb934c298dbb2516fb42bdee"/>

    <!-- Google Analytics -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-66796355-1', 'auto');
        ga('send', 'pageview', location.pathname);
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/media/site/favicon.png">

    <!-- Begin Jekyll SEO tag v2.2.3 -->
<title>Swift Camera Basics: Image Pickers and Action Sheets | Kevin Hou</title>
<meta property="og:title" content="Swift Camera Basics: Image Pickers and Action Sheets" />
<meta name="author" content="Kevin Hou" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An over on implementing camera selection and action sheets in Swift." />
<meta property="og:description" content="An over on implementing camera selection and action sheets in Swift." />
<link rel="canonical" href="http://khou22.com/ios/2017/02/24/swift-camera-basics-image-pickers-and-action-sheets.html" />
<meta property="og:url" content="http://khou22.com/ios/2017/02/24/swift-camera-basics-image-pickers-and-action-sheets.html" />
<meta property="og:site_name" content="Kevin Hou" />
<meta property="og:image" content="http://khou22.com/media/blog/images/Blog_Post_Placeholder_Image.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-02-24T04:53:36+08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@kevinhou22" />
<meta name="twitter:creator" content="@Kevin Hou" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"BlogPosting","headline":"Swift Camera Basics: Image Pickers and Action Sheets","author":{"@type":"Person","name":"Kevin Hou"},"image":"http://khou22.com/media/blog/images/Blog_Post_Placeholder_Image.jpg","datePublished":"2017-02-24T04:53:36+08:00","dateModified":"2017-02-24T04:53:36+08:00","description":"An over on implementing camera selection and action sheets in Swift.","mainEntityOfPage":{"@type":"WebPage","@id":"http://khou22.com/ios/2017/02/24/swift-camera-basics-image-pickers-and-action-sheets.html"},"url":"http://khou22.com/ios/2017/02/24/swift-camera-basics-image-pickers-and-action-sheets.html"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body>

    <header>
  <!-- Desktop Client -->
  <div class="site-header" id="site-header">
    <div class="wrapper" style="height: 100%">
      <div class="site-header-background">
        <div class="site-header-content">

          <a href="/" class="header-title-section">
            <img src="/media/site/favicon.png" class="header-logo" align="left">
            <p class="site-title">Kevin Hou</p>
          </a>

          <!-- Site Navigation Bar -->
          <ul class="nav-ul site-nav-bar">
            <li class="nav-li nav-item">
              <a href="/">Home</a>
            </li>
            <li class="nav-li nav-item">
              <a href="/blog">Blog &#9662;</a>
              <ul class="dropdown">
                <li class="nav-li"><a href="/blog/category">Browse by Category</a></li>
                <li class="nav-li"><a href="/blog/tag">Browse by Tag</a></li>
              </ul>
            </li>
            <li class="nav-li nav-item">
              <a href="/categories">Portfolio &#9662;</a>
              <ul class="dropdown">
                <li class="nav-li"><a href="/programming">Programming</a></li>
                <li class="nav-li"><a href="/wood/">Woodshop</a></li>
                <!-- <li class="nav&#45;li"><a href="https://www.flickr.com/photos/khou22/albums" target="_blank">Woodshop</a></li> -->
                <li class="nav-li"><a href="/design">Design</a></li>
                <li class="nav-li"><a href="/photography">Photography</a></li>
              </ul>
            </li>
            <li class="nav-li nav-item"><a href="/contact">Contact</a></li>
          </ul>

        </div>
      </div>

    </div>
  </div>
  <div class="header-placeholder"></div>

  <!-- Activate Tooltips -->
  <script type="text/javascript">
    $(function () {
      $('[data-toggle="tooltip"]').tooltip()
    })
    // Header has two sizes — 80px and 40px — based on scrolling
    $(document).scroll(function() {
      var screenWidth = $(document).width();
      var mobileCuttoff = 800; // Ambiguous
      if (screenWidth > mobileCuttoff) {
        var triggerDistance = 100;
        var classesToChange = [
          {
            className: ".site-header",
            styleElement: "height",
            min: 40,
            max: 80
          },
          {
            className: ".site-title",
            styleElement: "font-size",
            min: 20,
            max: 32
          },
          {
            className: ".site-title",
            styleElement: "line-height",
            min: 2,
            max: 3
          },
          {
            className: ".header-logo",
            styleElement: "height",
            min: 24,
            max: 64
          },
          {
            className: ".site-nav-bar",
            styleElement: "margin-top",
            min: 4,
            max: 24
          }
        ]
        if ($(this).scrollTop() < triggerDistance) { // Distance until changing header height
          var percentageComplete = $(this).scrollTop()/triggerDistance; // Percentage complete
          for (var i = 0; i < classesToChange.length; i++) { // Cycle through all style changes
            var currentClass = classesToChange[i] // Store
            var dynamicStyle = ((1 - percentageComplete) * (currentClass.max - currentClass.min)) + currentClass.min // Calculate
            $(currentClass.className).css(currentClass.styleElement, dynamicStyle) // Apply
          }
        } else { // Min style
          for (var i = 0; i < classesToChange.length; i++) {
            var currentClass = classesToChange[i]
            $(currentClass.className).css(currentClass.styleElement, currentClass.min);
          }
        }
        if ($(this).scrollTop() <= 5) { // Just in case you scroll too fast - max style
          for (var i = 0; i < classesToChange.length; i++) {
            var currentClass = classesToChange[i]
            $(currentClass.className).css(currentClass.styleElement, currentClass.max);
          }
        }
      } else {
        // If on mobile
        // console.log("Your screen size does not support dynamic header");
      }
    });
  </script>


  <!-- Mobile Client -->
  <div class="mobile-blog-header">
    <ul class="mobile-blog-header-ul">
      <li class="mobile-blog-header-li-logo">
        <a href="http://khou22.com">
          <img src="/media/site/favicon.png" class="mobile-blog-header-logo">
        </a>
      </li>
      <li class="mobile-blog-header-li">
        <a href="/">Home</a>
      </li>
      <li class="mobile-blog-header-li">
        <a href="/blog">Blog</a>
      </li>
      <li class="mobile-blog-header-li">
        <a href="/categories">Portfolio</a>
      </li>
      <li class="mobile-blog-header-li">
        <a href="/contact">Contact</a>
      </li>
    </ul>
  </div>
  <div class="mobile-blog-header-placeholder">
  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <!-- Hide scrollbar on this page -->
<style> ::-webkit-scrollbar { display: none; } </style>

<!-- Page scroll progress bar -->
<script src="/libraries/prognroll/src/prognroll.min.js"></script>
<script>
    // Initialize the scroll progress bar
    $(function() {
        $("body").prognroll({
            height: 2, // Progress bar height
            color: "#3286A8", // Progress bar background color
        });
    });
</script>

<div class="post">
  

    

    

    
  <header id="blog-post-header" class="post-header">
    <div class="post-header-content">
      <a onclick="blogPostBackButton()"><p class="post-return-main">
        <
        Return to all blogs
      </p></a>
      <br />
      <h1 class="post-title post-header-title">Swift Camera Basics: Image Pickers and Action Sheets</h1>
      <h4 class="post-header-description">An over on implementing camera selection and action sheets in Swift.</h4>
      <p class="post-header-meta">Feb 24, 2017 • Kevin Hou</p>
    </div>
  </header>

  <script type="text/javascript">
    // Animate scroll to the blog header immediately after page load
    // $('html, body').animate({
    //     scrollTop: $("#blog-post-header").offset().top
    // }, 1000);

    var blogPostBackButton = function() {
      var previousLink = document.referrer
      var index = previousLink.indexOf("/blog")
      console.log("Previous link:", previousLink);
      console.log(index);
      if (index == 1) { // If not coming from a different blog post
        window.history.go(-1); // Back in history (keeps window position)
      } else { // Directed from a different blog post
        // console.log("Back to blog");
        console.log("Back");
        window.location.href = "/blog";
      }
    }

  </script>

  <article class="post-content">
    <p>I am designing and implementing a profile screen into Breathometer’s new app and one of the key components of many profile screens is a profile picture. I’m continuing to add to my toolbox of Swift skills so I set about learning how to get pictures from either the camera app or phone’s photo library.
<br class="post-line-break" /><br />
We need to build some basic frontend components so that we can have control over our code:
ImageView: A view that our image from the camera/photo library will populate
Button: To control when we want to upload the image
<br class="post-line-break" /></p>
<h3 class="post-subheader">Setup View Controller Class</h3>
<p>In order to use photos from the device, you must use the UIImagePickerControllerDelegate and the UINavigationControllerDelegate. These will give you the necessary functions to be able to retrieve your first image. The UIImagePickerControllerDelegate is responsible for initiating an image picker controller which then piggybacks with the UINavigationControllerDelegate that allows you to present the image picker using presentViewController() and dismissViewControllerAnimated(). Your view controller class should look like this:<br /></p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">class</span> <span class="kt">ProfileScreen</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">UIImagePickerControllerDelegate</span><span class="p">,</span> <span class="kt">UINavigationControllerDelegate</span> <span class="p">{</span>    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h3 class="post-subheader">Connect Storyboard to Code</h3>
<p>Create an outlet for the imageView and an action outlet for the button:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">profilePictureImageView</span><span class="p">:</span> <span class="kt">UIImageView</span><span class="o">!</span> <span class="c1">// Image view we want to display the image in</span>
<span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">selectProfilePicture</span><span class="p">(</span><span class="nv">sender</span><span class="p">:</span> <span class="kt">AnyObject</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span></code></pre></figure>

<h3 class="post-subheader">Setup Image Picker</h3>
<p>Initialize the UIImagePickerController under the UIImageView outlet we created earlier:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">imagePicker</span> <span class="o">=</span> <span class="kt">UIImagePickerController</span><span class="p">()</span> <span class="c1">// Initialize an image picker view controller type</span></code></pre></figure>

<p>Now we can create a function that will serve up the image picker. It accepts a sourceType as an input so that the image picker knows whether to show the actual camera interface or the photo library interface. There are three main parts in displaying an image picker: editing, source type, and presenting. Source type can be from the camera, the camera roll, or the photo library. The presentation component is what actually presents the imagePicker controller.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">pickImage</span><span class="p">(</span><span class="nv">sourceType</span><span class="p">:</span> <span class="kt">UIImagePickerControllerSourceType</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">imagePicker</span><span class="o">.</span><span class="n">allowsEditing</span> <span class="o">=</span> <span class="kc">false</span> <span class="c1">// Prevent editing</span>

  <span class="c1">// Three sources: .PhotoLibrary, .Camera, .SavedPhotosAlbum</span>
  <span class="k">self</span><span class="o">.</span><span class="n">imagePicker</span><span class="o">.</span><span class="n">sourceType</span> <span class="o">=</span> <span class="n">sourceType</span> <span class="c1">// Type of image selection</span>

  <span class="c1">// Presenting image picker view controller on top of stack</span>
  <span class="k">self</span><span class="o">.</span><span class="nf">presentViewController</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">imagePicker</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="s">"Opening image picker view controller"</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span></code></pre></figure>

<h3 class="post-subheader">Create Action Sheet</h3>
<p>We want the user to be able to specify if they want to use their camera or the photo library to select an image. We give them this option by creating an action sheet. An action sheet looks like this:<br />
<img class="iPhone-screenshots-medium" src="https://developer.apple.com/ios/human-interface-guidelines/images/action_sheets_2x.png" /></p>

<p>Because we want this action sheet to appear when the button is pressed, we place this bit of code in the action outlet. The code is straightforward and intuitive:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">imageSourcePicker</span> <span class="o">=</span> <span class="kt">UIAlertController</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Select Profile Picture"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"Please select an image picker method"</span><span class="p">,</span> <span class="nv">preferredStyle</span><span class="p">:</span> <span class="o">.</span><span class="kt">ActionSheet</span><span class="p">)</span> <span class="c1">// Initialize action sheet type</span>

<span class="k">let</span> <span class="nv">cameraAction</span> <span class="o">=</span> <span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Take a picture"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="kt">Default</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="n">action</span> <span class="k">in</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">pickImage</span><span class="p">(</span><span class="o">.</span><span class="kt">Camera</span><span class="p">)</span> <span class="c1">// Presents picker</span>
<span class="p">})</span>

<span class="k">let</span> <span class="nv">cameraRoll</span> <span class="o">=</span> <span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Choose from camera roll"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="kt">Default</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="n">action</span> <span class="k">in</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">pickImage</span><span class="p">(</span><span class="o">.</span><span class="kt">PhotoLibrary</span><span class="p">)</span> <span class="c1">// Presents picker</span>
<span class="p">})</span>

<span class="c1">// Add actions</span>
<span class="n">imageSourcePicker</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">cameraAction</span><span class="p">)</span>
<span class="n">imageSourcePicker</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">cameraRoll</span><span class="p">)</span>

<span class="nf">presentViewController</span><span class="p">(</span><span class="n">imageSourcePicker</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span></code></pre></figure>

<h3 class="post-subheader">Setup the UIImagePickerControllerDelegate Methods</h3>
<p>We must set the imagePicker delegate to self in viewDidLoad():</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">imagePicker</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span> <span class="c1">// States that this view controller will also handle the events</span></code></pre></figure>

<p>Now we can write the methods. There are two image picker functions are essential:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="nf">imagePickerController</span><span class="p">(</span><span class="nv">picker</span><span class="p">:</span> <span class="kt">UIImagePickerController</span><span class="p">,</span> <span class="n">didFinishPickingMediaWithInfo</span> <span class="nv">info</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">AnyObject</span><span class="p">])</span></code></pre></figure>

<p>This function is triggered when you return a valid image. The selected image is passed in as part of the info object.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">imagePickerController</span><span class="p">(</span><span class="nv">picker</span><span class="p">:</span> <span class="kt">UIImagePickerController</span><span class="p">,</span> <span class="n">didFinishPickingMediaWithInfo</span> <span class="nv">info</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">AnyObject</span><span class="p">])</span> <span class="p">{</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">pickedImage</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="kt">UIImagePickerControllerOriginalImage</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">UIImage</span> <span class="p">{</span>
    <span class="c1">// If returned a valid image</span>
    <span class="n">profilePictureImageView</span><span class="o">.</span><span class="n">contentMode</span> <span class="o">=</span> <span class="o">.</span><span class="kt">ScaleAspectFit</span> <span class="c1">// Set content setting</span>
    <span class="n">profilePictureImageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pickedImage</span> <span class="c1">// Set image</span>
  <span class="p">}</span>

  <span class="c1">// Dismiss the image picker controller</span>
  <span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Dismissed image picker controller"</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>


<span class="nf">imagePickerControllerDidCancel</span><span class="p">(</span><span class="nv">picker</span><span class="p">:</span> <span class="kt">UIImagePickerController</span><span class="p">)</span>
<span class="kt">This</span> <span class="k">is</span> <span class="n">triggered</span> <span class="n">when</span> <span class="n">the</span> <span class="n">image</span> <span class="n">selection</span> <span class="n">flow</span> <span class="k">is</span> <span class="n">cancelled</span>
<span class="kd">func</span> <span class="nf">imagePickerControllerDidCancel</span><span class="p">(</span><span class="nv">picker</span><span class="p">:</span> <span class="kt">UIImagePickerController</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Dismiss the image picker controller</span>
  <span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Cancelled image picker flow"</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span></code></pre></figure>

<h3 class="post-subheader">Final Code:</h3>
<p>The complete source code looks like this:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">//  Created by Kevin</span>
<span class="c1">//  Copyright © 2016 KevinHou. All rights reserved.</span>
<span class="c1">//</span>

<span class="kd">import</span> <span class="kt">Foundation</span>
<span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">class</span> <span class="kt">ProfileScreen</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">UIImagePickerControllerDelegate</span><span class="p">,</span> <span class="kt">UINavigationControllerDelegate</span> <span class="p">{</span>

    <span class="c1">// Image picker controller delegate allows you to select an image from the camera or the photo library</span>
    <span class="c1">// Navigation controller delegate allows image picker to appear and dissapear like a normal view controller</span>

    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">profilePictureImageView</span><span class="p">:</span> <span class="kt">UIImageView</span><span class="o">!</span> <span class="c1">// Image view we want to display the image in</span>

    <span class="k">let</span> <span class="nv">imagePicker</span> <span class="o">=</span> <span class="kt">UIImagePickerController</span><span class="p">()</span> <span class="c1">// Initialize an image picker view controller type</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="n">imagePicker</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span> <span class="c1">// States that this view controller will also handle the events</span>
    <span class="p">}</span>

    <span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">selectProfilePicture</span><span class="p">(</span><span class="nv">sender</span><span class="p">:</span> <span class="kt">AnyObject</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">imageSourcePicker</span> <span class="o">=</span> <span class="kt">UIAlertController</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Select Profile Picture"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"Please select an image picker method"</span><span class="p">,</span> <span class="nv">preferredStyle</span><span class="p">:</span> <span class="o">.</span><span class="kt">ActionSheet</span><span class="p">)</span> <span class="c1">// Initialize action sheet type</span>

        <span class="k">let</span> <span class="nv">cameraAction</span> <span class="o">=</span> <span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Take a picture"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="kt">Default</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="n">action</span> <span class="k">in</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">pickImage</span><span class="p">(</span><span class="o">.</span><span class="kt">Camera</span><span class="p">)</span> <span class="c1">// Presents picker</span>
        <span class="p">})</span>

        <span class="k">let</span> <span class="nv">cameraRoll</span> <span class="o">=</span> <span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Choose from camera roll"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="kt">Default</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="n">action</span> <span class="k">in</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">pickImage</span><span class="p">(</span><span class="o">.</span><span class="kt">PhotoLibrary</span><span class="p">)</span> <span class="c1">// Presents picker</span>
        <span class="p">})</span>

        <span class="c1">// Add actions</span>
        <span class="n">imageSourcePicker</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">cameraAction</span><span class="p">)</span>
        <span class="n">imageSourcePicker</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">cameraRoll</span><span class="p">)</span>

        <span class="nf">presentViewController</span><span class="p">(</span><span class="n">imageSourcePicker</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">pickImage</span><span class="p">(</span><span class="nv">sourceType</span><span class="p">:</span> <span class="kt">UIImagePickerControllerSourceType</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">imagePicker</span><span class="o">.</span><span class="n">allowsEditing</span> <span class="o">=</span> <span class="kc">false</span> <span class="c1">// Prevent editing</span>

        <span class="c1">// Three sources: .PhotoLibrary, .Camera, .SavedPhotosAlbum</span>
        <span class="k">self</span><span class="o">.</span><span class="n">imagePicker</span><span class="o">.</span><span class="n">sourceType</span> <span class="o">=</span> <span class="n">sourceType</span> <span class="c1">// Type of image selection</span>

        <span class="c1">// Presenting image picker view controller on top of stack</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">presentViewController</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">imagePicker</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Opening image picker view controller"</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="p">}</span>


    <span class="c1">// MARK: - UIImagePickerControllerDelegate Methods</span>

    <span class="kd">func</span> <span class="nf">imagePickerController</span><span class="p">(</span><span class="nv">picker</span><span class="p">:</span> <span class="kt">UIImagePickerController</span><span class="p">,</span> <span class="n">didFinishPickingMediaWithInfo</span> <span class="nv">info</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">AnyObject</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">pickedImage</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="kt">UIImagePickerControllerOriginalImage</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">UIImage</span> <span class="p">{</span>
            <span class="c1">// If returned a valid image</span>
            <span class="n">profilePictureImageView</span><span class="o">.</span><span class="n">contentMode</span> <span class="o">=</span> <span class="o">.</span><span class="kt">ScaleAspectFit</span> <span class="c1">// Set content setting</span>
            <span class="n">profilePictureImageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pickedImage</span> <span class="c1">// Set image</span>
        <span class="p">}</span>

        <span class="c1">// Dismiss the image picker view controller</span>
        <span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Dismissed image picker view controller"</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">imagePickerControllerDidCancel</span><span class="p">(</span><span class="nv">picker</span><span class="p">:</span> <span class="kt">UIImagePickerController</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Dismiss the image picker view controller</span>
        <span class="nf">dismissViewControllerAnimated</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Cancelled: Dismissed image picker view controller"</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="p">}</span>

<span class="p">}</span></code></pre></figure>

<p>Hope you found this helpful! You can find the source code on <a href="https://github.com/khou22/Swift-App-Templates/blob/master/SampleTabProject/SampleTabProject/ProfileScreen.swift" target="_blank">GitHub</a>.</p>

<h3 class="post-subheader">Another Example of an Action Sheet</h3>
<p>Here’s another example of two different types of action sheets in case the first example was difficult to grasp.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kt">Text</span> <span class="kt">Input</span> <span class="kt">Dialogue</span><span class="p">:</span>
<span class="c1">// Create text modal for adding an event name prediction</span>
<span class="k">let</span> <span class="nv">newCategoryAlert</span> <span class="o">=</span> <span class="kt">UIAlertController</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Enter Location"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"Manually add a location suggestion"</span><span class="p">,</span> <span class="nv">preferredStyle</span><span class="p">:</span> <span class="o">.</span><span class="n">alert</span><span class="p">)</span>

<span class="c1">// Add text field item</span>
<span class="n">newCategoryAlert</span><span class="o">.</span><span class="n">addTextField</span> <span class="p">{</span> <span class="p">(</span><span class="n">textField</span><span class="p">)</span> <span class="k">in</span>
    <span class="n">textField</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">""</span> <span class="c1">// No placeholder</span>
    <span class="n">textField</span><span class="o">.</span><span class="n">autocapitalizationType</span> <span class="o">=</span> <span class="kt">UITextAutocapitalizationType</span><span class="o">.</span><span class="n">words</span> <span class="c1">// Capitalization rules</span>
<span class="p">}</span>

<span class="c1">// Add cancel action</span>
<span class="n">newCategoryAlert</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Cancel"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="kc">nil</span><span class="p">))</span> <span class="c1">// No action if cancelled</span>

<span class="c1">// Add submit action</span>
<span class="n">newCategoryAlert</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"OK"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="n">newCategoryAlert</span><span class="p">]</span> <span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">in</span>
    <span class="c1">// Get text field content</span>
    <span class="k">let</span> <span class="nv">textField</span> <span class="o">=</span> <span class="n">newCategoryAlert</span><span class="p">?</span><span class="o">.</span><span class="n">textFields</span><span class="o">!</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1">// Force unwrapping because we know it exists</span>

    <span class="k">self</span><span class="o">.</span><span class="n">currentCategory</span><span class="o">.</span><span class="n">locationFreq</span><span class="p">[(</span><span class="n">textField</span><span class="p">?</span><span class="o">.</span><span class="n">text</span><span class="p">)</span><span class="o">!</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">// New event name frequency entry with frequency of 0</span>

    <span class="c1">// Update category data with new markov model</span>
    <span class="kt">DataManager</span><span class="o">.</span><span class="nf">updateOneCategory</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">currentCategory</span><span class="p">,</span> <span class="nv">index</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">selectedIndex</span><span class="p">)</span>

    <span class="c1">// Refresh the table view on this page</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">refreshData</span><span class="p">()</span>
<span class="p">}))</span>

<span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">newCategoryAlert</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span> <span class="c1">// Present the alert</span>

<span class="c1">// Regular Action Sheet</span>
<span class="k">let</span> <span class="nv">actionSheet</span> <span class="o">=</span> <span class="kt">UIAlertController</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Reset Predictions"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"Are you sure you want to reset predictions? This cannot be undone."</span><span class="p">,</span> <span class="nv">preferredStyle</span><span class="p">:</span> <span class="o">.</span><span class="n">actionSheet</span><span class="p">)</span> <span class="c1">// Create alert action sheet</span>

<span class="c1">// Create actions</span>
<span class="k">let</span> <span class="nv">resetAction</span><span class="p">:</span> <span class="kt">UIAlertAction</span> <span class="o">=</span> <span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Reset Predictions"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">alert</span><span class="p">:</span> <span class="kt">UIAlertAction</span><span class="o">!</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
    <span class="c1">// User pressed reset all predictions</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Reseting predictions"</span><span class="p">)</span>
    <span class="k">self</span><span class="o">.</span><span class="n">currentCategory</span> <span class="o">=</span> <span class="kt">Category</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">currentCategory</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nv">eventNameFreq</span><span class="p">:</span> <span class="p">[</span> <span class="p">:</span> <span class="p">],</span> <span class="nv">locationFreq</span><span class="p">:</span> <span class="p">[</span> <span class="p">:</span> <span class="p">])</span> <span class="c1">// Reset predictions data</span>
    <span class="kt">DataManager</span><span class="o">.</span><span class="nf">updateOneCategory</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">currentCategory</span><span class="p">,</span> <span class="nv">index</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">selectedIndex</span><span class="p">)</span>
<span class="p">})</span>
<span class="k">let</span> <span class="nv">cancelAction</span><span class="p">:</span> <span class="kt">UIAlertAction</span> <span class="o">=</span> <span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Cancel"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">cancel</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">alert</span><span class="p">:</span> <span class="kt">UIAlertAction</span><span class="o">!</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="k">in</span>
    <span class="c1">// User pressed cancel</span>
<span class="p">})</span>

<span class="c1">// Add actions</span>
<span class="n">actionSheet</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">resetAction</span><span class="p">)</span>
<span class="n">actionSheet</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">cancelAction</span><span class="p">)</span>

<span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">actionSheet</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span> <span class="c1">// Present action sheet to user</span></code></pre></figure>

<p>Hope you found this helpful!</p>

    <div class="post-organization">
      <p id="post-meta">Posted in <a href="/blog/category/ios/">iOS Development</a> with <a href="/blog/tag/swift">Swift</a>, <a href="/blog/tag/tutorial">Tutorial</a></p>
    </div>
  </article>
</div>

      </div>
    </div>

    <footer class="site-footer">

  <!-- External Links Navigation Bar -->
  <table class="external-bar"> <!-- Custom header -->
    <tr>
      <td class="external-td">
        <a href="/blog" data-toggle="tooltip" title="Blog Home">
          <div class="external-link-box home-bw"></div>
          <p class="external-link-label">Home</p>
        </a>
      </td>
      <td class="external-td">
        <a href="https://www.linkedin.com/in/kevinhou22" target="_blank" data-toggle="tooltip" title="LinkedIn">
          <div class="external-link-box linkedin-bw"></div>
          <p class="external-link-label">LinkedIn</p>
        </a>
      </td>
      <td class="external-td">
        <a href="https://github.com/khou22" target="_blank" data-toggle="tooltip" title="Github">
          <div class="external-link-box github-bw"></div>
          <p class="external-link-label">Github</p>
        </a>
      </td>
      <td class="external-td">
        <a href="https://www.flickr.com/photos/khou22/albums" target="_blank" data-toggle="tooltip" title="Flickr">
          <div class="external-link-box flickr-bw"></div>
          <p class="external-link-label">Flickr</p>
        </a>
      </td>
      <td class="external-td">
        <a href="http://kevinhou.wix.com/projects" target="_blank" data-toggle="tooltip" title="Portfolio">
          <div class="external-link-box gallery-bw"></div>
          <p class="external-link-label">Portfolio</p>
        </a>
      </td>
      <td class="external-td">
        <a href="https://youtube.com/kevinhou22" target="_blank" data-toggle="tooltip" title="YouTube Channel">
          <div class="external-link-box youtube-bw"></div>
          <p class="external-link-label">YouTube</p>
        </a>
      </td>
      <td class="external-td">
        <a href="https://www.princeton.edu/main/" target="_blank" data-toggle="tooltip" title="School Profile">
          <div class="external-link-box highSchool-bw"></div>
          <p class="external-link-label">School Profile</p>
        </a>
      </td>
      <td class="external-td">
        <a href="/blog/contact" data-toggle="tooltip" title="Contact">
          <div class="external-link-box email-bw"></div>
          <p class="external-link-label">Contact</p>
        </a>
      </td>
    </tr>
  </table>

  <div class="wrapper">

    <div class="site-footer-content">

      <h2 class="footer-heading">Kevin Hou's Portfolio and Blog</h2>

      <div class="footer-col-wrapper">
        <div class="footer-col  footer-col-1">
          <ul class="contact-list">
            <li>Kevin Hou</li>
            <li><a href="mailto:kevin.ch.hou@gmail.com">kevin.ch.hou@gmail.com</a></li>
            <li>San Francisco Bay Area</li>
          </ul>
        </div>

        <div class="footer-col  footer-col-2">
          <ul class="social-media-list">
            
            <li>
              <a href="https://github.com/khou22" target="_blank">
                <span class="icon  icon--github">
                  <svg viewBox="0 0 16 16">
                    <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                  </svg>
                </span>

                <span class="username">khou22</span>
              </a>
            </li>
            

            
            <li>
              <a href="https://www.flickr.com/photos/khou22/albums" target="_blank">
                <div class="footer-icon-box flickr-bw"></div><span class="username">kevinhou22</span>
              </a>
            </li>
            

          </ul>
        </div>

        <div class="footer-col  footer-col-3">
          <p class="text">Kevin Hou's portfolio and blog about programming, wood, design, and photography. @khou22 Princeton Class of 2020. Lick-Wilmerding High School Class of 2016. San Francisco Bay Area.
</p>
        </div>
      </div>

    </div>

  </div>

</footer>


  </body>

</html>
